# 南京公交小程序产品需求文档（PRD）

## 一、产品概述

### 1.1 产品定位
南京公交小程序是一款面向公交出行用户的智能服务平台，以"一键连WiFi、AI助出行"为核心价值，特别关注老年用户群体的使用体验，提供简单易用的公交出行全流程服务。

### 1.2 目标用户
- **核心用户**：南京市日常乘坐公交出行的市民（18-65岁）
- **重点用户**：老年人群体（55岁以上）
- **潜在用户**：来宁游客、通勤上班族、学生群体

### 1.3 产品目标
- 短期目标（3个月）：实现免费WiFi连接功能，用户量达到10万+
- 中期目标（6个月）：上线AI智能服务，月活用户达到30万+
- 长期目标（12个月）：成为南京公交出行首选工具，实现商业化变现

---

## 二、用户调研与需求分析

### 2.1 用户痛点调研

#### 公交出行高频痛点（基于实际用户反馈）
1. **连接问题**（高频）
   - 公交WiFi连接步骤繁琐，需要关注公众号、输入手机号
   - 老年人不熟悉操作流程，经常连接失败
   - 每次上车都要重新连接，体验差

2. **路线规划问题**（高频）
   - 不知道坐哪路车，需要换乘几次
   - 不清楚在哪个站台等车
   - 容易坐过站或坐反方向

3. **实时信息问题**（高频）
   - 不知道车还有多久到站
   - 不清楚车上是否拥挤
   - 临时线路调整不知情

4. **支付问题**（中频）
   - 忘记带公交卡或手机没电
   - 老年人不会使用移动支付
   - 优惠政策不了解

5. **特殊需求**（中频）
   - 携带大件行李不知道能否上车
   - 轮椅、婴儿车等特殊需求
   - 找不到无障碍公交信息

6. **信息获取问题**（低频）
   - 遗失物品查询困难
   - 投诉建议渠道不畅
   - 不了解公交优惠活动

### 2.2 功能优先级筛选

根据用户痛点的频率、解决难度、AI适配性进行评估：

| 需求 | 频率 | 技术难度 | AI适配性 | 优先级 |
|------|------|----------|----------|--------|
| WiFi一键连接 | 极高 | 低 | 低 | P0 |
| AI语音问路 | 高 | 中 | 高 | P0 |
| 实时公交查询 | 高 | 中 | 中 | P0 |
| 智能换乘规划 | 高 | 中 | 高 | P1 |
| 到站提醒 | 高 | 低 | 中 | P1 |
| 车厢拥挤度 | 中 | 高 | 低 | P2 |
| 失物招领 | 低 | 中 | 高 | P2 |
| 无障碍服务 | 低 | 中 | 中 | P2 |

---

## 三、功能设计

### 3.1 基础功能：WiFi一键连接（P0）

#### 功能描述
用户打开小程序，一键扫码即可连接公交免费WiFi，无需重复认证。

#### 功能流程
1. 用户上车后打开小程序
2. 点击"连WiFi"大按钮（首页核心位置）
3. 自动扫描车载二维码或NFC标签
4. 自动连接WiFi（首次需授权手机号）
5. 连接成功提示，自动记住该车辆

#### 老年人适配
- 超大按钮设计（不小于80px高度）
- 语音播报"WiFi已连接"
- 连接失败时显示简单图文教程
- 支持手动输入车辆编号连接

#### 技术方案
- 微信小程序扫码API
- 与公交公司WiFi系统对接
- 本地缓存用户认证信息

---

### 3.2 AI智能功能（P0-P2）

#### 3.2.1 AI语音问路助手（P0）

**功能描述**
用户通过语音或文字向AI询问出行问题，AI给出简单明确的回答。

**典型场景**
- 用户："我要从新街口去夫子庙怎么坐车？"
- AI："您可以乘坐1路公交，在新街口站上车，坐6站到夫子庙站下车，大约需要15分钟。"

**核心能力**
- 自然语言理解（支持南京方言）
- 路线规划与解释
- 语音合成（清晰、语速可调）
- 多轮对话（可追问细节）

**老年人适配**
- 支持方言识别（南京话）
- 大字体显示对话内容
- 语音播报答案
- 简化专业术语（如"换乘"说成"换车"）

**交互设计**
- 首页悬浮"问一问"按钮（语音图标）
- 长按说话，松开发送
- 支持键盘输入（备选方案）
- 显示常见问题快捷入口

---

#### 3.2.2 智能换乘规划（P1）

**功能描述**
AI根据实时路况、公交到站时间、用户偏好，推荐最优出行方案。

**智能化特点**
- 考虑实时路况，避开拥堵路线
- 优先推荐少换乘方案（老年人友好）
- 预估精确的到达时间
- 标注无障碍线路

**展示方案**
- 最多显示3个方案（避免选择困难）
- 每个方案用简单图标标识（最快、最省、最舒适）
- 大字体显示关键信息（车次、站数、时间）

---

#### 3.2.3 智能到站提醒（P1）

**功能描述**
用户设置目的地后，AI自动监测位置，提前2站语音+震动提醒。

**智能特点**
- 基于GPS和站点数据双重定位
- 自动调整提醒时机（根据车速）
- 防误提醒机制（停车场等干扰场景）

**老年人适配**
- 超大音量语音提醒
- 强震动提醒
- 屏幕全屏闪烁提示
- 提醒后需用户手动确认"知道了"

---

#### 3.2.4 AI失物招领助手（P2）

**功能描述**
用户描述遗失物品，AI匹配公交公司失物数据库，智能推荐可能匹配项。

**智能化**
- 图像识别（上传物品照片）
- 模糊匹配（描述不精确也能找到）
- 自动生成寻物启事

---

### 3.3 实时信息功能（P0）

#### 功能列表
- **公交实时位置**：显示车辆距离当前站点数
- **预计到站时间**：精确到分钟
- **车厢拥挤度**：拥挤/适中/宽松（数据来源：车载传感器）
- **线路公告**：临时调整、维修信息

---

## 四、界面设计原则（老年人友好）

### 4.1 视觉设计
- **字体大小**：最小16px，核心信息≥20px
- **对比度**：文字与背景对比度≥4.5:1
- **颜色**：避免红绿色盲问题，重要按钮用高饱和度色彩
- **图标**：配合文字说明，单独图标必须极简清晰

### 4.2 交互设计
- **按钮尺寸**：最小点击区域44x44px
- **操作步骤**：任何功能不超过3步
- **反馈**：每次操作都有明确语音或震动反馈
- **容错**：重要操作有二次确认，支持撤销

### 4.3 页面结构
```
首页（极简设计）
├── WiFi连接大按钮（占屏幕1/3）
├── AI问路悬浮按钮（右下角）
├── 常用功能卡片（最多4个）
│   ├── 实时公交
│   ├── 路线规划
│   ├── 到站提醒
│   └── 我的行程
└── 底部标签栏（首页/服务/我的）
```

### 4.4 语音交互
- 全局支持语音唤醒："小宁小宁"（南京谐音）
- 任何页面可语音操作
- 语速调节（慢速/标准/快速）

---

## 五、技术架构

### 5.1 技术栈
- **前端**：微信小程序原生开发
- **后端**：Node.js / Python（FastAPI）
- **AI能力**：
  - 语音识别：讯飞/百度ASR
  - 自然语言处理：通义千问/文心一言API
  - 语音合成：微软TTS（支持方言）
- **数据来源**：
  - 公交实时数据API（南京公交集团）
  - 地图服务：高德地图API
  - WiFi认证系统对接

### 5.2 核心技术挑战
- WiFi自动连接（需公交公司配合改造认证系统）
- 实时定位精度（GPS+站点匹配算法）
- AI响应速度（控制在2秒内）
- 离线可用性（缓存常用线路数据）

---

## 六、商业化变现方案

### 6.1 变现模式优先级

#### 模式一：精准广告（主要收入）
**方案**
- WiFi连接成功后展示5秒品牌广告（可跳过）
- AI对话结束后推荐相关服务（如"夫子庙有XX美食优惠"）
- 站点周边商家推广（LBS定向）

**优势**
- 场景精准（出行+地理位置）
- 用户接受度高（免费WiFi交换）
- CPM预估：8-15元

**老年人保护**
- 广告标识清晰
- "跳过"按钮超大
- 不推送不适合老年人的内容（如贷款、投资）

---

#### 模式二：会员增值服务（辅助收入）
**会员权益**（9.9元/月，99元/年）
- 无广告体验
- 优先AI响应（快速通道）
- 专属客服（真人）
- 月度出行报告
- 公交优惠券包

**目标**
- 付费转化率3-5%
- 主要面向年轻用户和商务人士

---

#### 模式三：数据服务（长期收入）
**可售数据**（脱敏后）
- 公交客流热力图（卖给城市规划部门）
- 用户出行偏好分析（卖给商家选址）
- 线路优化建议（卖给公交公司）

**合规**
- 用户协议明确告知
- 完全匿名化处理
- 符合数据安全法规

---

#### 模式四：平台佣金（探索方向）
**场景**
- 接入公交沿线景点/商家优惠券，用户核销后抽取5-10%佣金
- 公交+地铁联程票销售
- 旅游套餐（公交一日游）

---

### 6.2 收入预测（第一年）

| 收入来源 | 月收入（万元） | 年收入（万元） |
|---------|--------------|--------------|
| 广告收入 | 15-25 | 180-300 |
| 会员收入 | 3-5 | 36-60 |
| 数据服务 | 0-2 | 0-24 |
| 平台佣金 | 1-3 | 12-36 |
| **合计** | **19-35** | **228-420** |

**前提条件**
- 月活用户30万+
- 人均月使用15次
- WiFi连接成功率>95%

---

## 七、开发路线图

### Phase 1：MVP版本（0-2个月）
**功能**
- WiFi一键连接
- 基础公交查询
- 简单的AI语音问路

**里程碑**
- 完成与公交WiFi系统对接
- 接入1条试点公交线路
- 100个种子用户测试

---

### Phase 2：正式版（3-4个月）
**新增功能**
- 接入全部公交线路WiFi
- AI智能换乘规划
- 到站提醒
- 实时公交

**里程碑**
- 用户量突破10万
- 日活率>20%
- WiFi连接成功率>90%

---

### Phase 3：商业化版本（5-6个月）
**新增功能**
- 上线广告系统
- 会员体系
- 失物招领
- 车厢拥挤度

**里程碑**
- 月活30万+
- 开始盈利
- 合作商家50+

---

### Phase 4：生态化（7-12个月）
**新增功能**
- 接入地铁、出租车等其他交通方式
- 开放API给第三方
- 城市出行大脑

**里程碑**
- 成为南京出行超级入口
- 月活100万+
- 年收入500万+

---

## 八、风险与应对

### 8.1 技术风险
**风险**：WiFi认证系统对接困难
**应对**：提前与公交集团签订合作协议，必要时协助改造系统

**风险**：AI响应速度慢影响体验
**应对**：本地缓存常见问题答案，使用边缘计算加速

### 8.2 运营风险
**风险**：老年人学习成本高，推广困难
**应对**：线下推广（公交站点驻点教学）、子女帮父母设置

**风险**：用户留存率低
**应对**：到站提醒等刚需功能锁定用户，每日签到送公交券

### 8.3 商业风险
**风险**：广告主不认可公交场景
**应对**：提供详细数据报告，先做品牌广告试点

**风险**：政策监管（数据安全）
**应对**：从设计之初就确保合规，聘请法律顾问

---

## 九、成功指标（KPI）

### 9.1 用户指标
- 下载量：第3个月10万+，第6个月30万+
- 日活率：>20%
- 次日留存：>40%
- 周留存：>25%

### 9.2 功能指标
- WiFi连接成功率：>95%
- AI问答准确率：>90%
- AI响应时间：<2秒
- 到站提醒准确率：>98%

### 9.3 商业指标
- 用户月均使用频次：15次
- 广告点击率：>2%
- 会员转化率：>3%
- 第6个月实现盈亏平衡

---

## 十、附录

### 10.1 竞品分析

| 产品 | 优势 | 劣势 | 差异化 |
|------|------|------|--------|
| 车来了 | 实时公交准确 | 无WiFi连接，AI功能弱 | 我们整合WiFi+AI |
| 高德地图 | 功能全面 | 公交专项弱，不适合老年人 | 我们极简易用 |
| 公交集团官方APP | 数据权威 | 体验差，功能陈旧 | 我们体验现代化 |

### 10.2 用户画像示例

**画像1：退休王阿姨（65岁）**
- 每天坐公交去菜场、公园
- 不太会用智能手机
- 核心需求：简单、能听懂她说话、提醒她下车

**画像2：上班族小李（28岁）**
- 通勤使用公交+地铁
- 追求效率
- 核心需求：最快路线、准点、车厢不拥挤

**画像3：游客小张（来宁旅游）**
- 不熟悉南京
- 想用公交省钱逛景点
- 核心需求：路线规划、景点推荐、免费WiFi

---

## 文档版本
- 版本：V1.0
- 创建时间：2025年10月
- 作者：产品团队
- 审核状态：待评审

---

**备注**：本PRD基于用户调研和市场分析编写，具体功能实现需根据技术评审和资源情况调整优先级。