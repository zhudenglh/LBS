# è§†é¢‘å­—å¹•æå–å·¥å…· - ä½¿ç”¨è¯´æ˜

## ğŸ“– ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªè‡ªåŠ¨ä»è§†é¢‘é“¾æ¥æå–å­—å¹•çš„å·¥å…·ï¼Œæ”¯æŒ YouTubeã€Bilibili ç­‰ 1000+ è§†é¢‘å¹³å°ã€‚

### âœ¨ ä¸»è¦åŠŸèƒ½

- âœ… è‡ªåŠ¨ä¸‹è½½è§†é¢‘
- âœ… æå–éŸ³é¢‘å¹¶è½¬æ¢ä¸ºæ–‡å­—
- âœ… è‡ªåŠ¨ç¹ç®€è½¬æ¢ï¼ˆç®€ä½“ä¸­æ–‡ï¼‰
- âœ… ä¿ç•™è‹±æ–‡æœ¯è¯­ä¸ç¿»è¯‘
- âœ… ä½¿ç”¨è§†é¢‘æ ‡é¢˜ä½œä¸ºæ–‡ä»¶å
- âœ… ç”Ÿæˆ Markdown æ ¼å¼å­—å¹•æ–‡ä»¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ¬¡ä½¿ç”¨

1. **è¿è¡Œå®‰è£…è„šæœ¬**
   ```bash
   ./install.sh
   ```

   ç­‰å¾…å®‰è£…å®Œæˆï¼ˆå¤§çº¦ 5-10 åˆ†é’Ÿï¼‰

2. **æå–è§†é¢‘å­—å¹•**
   ```bash
   ./run.sh "è§†é¢‘é“¾æ¥"
   ```

### æ—¥å¸¸ä½¿ç”¨

```bash
# åŸºæœ¬ç”¨æ³•
./run.sh "è§†é¢‘é“¾æ¥"

# è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶å
./run.sh "è§†é¢‘é“¾æ¥" "è‡ªå®šä¹‰æ–‡ä»¶å"
```

## ğŸ“š ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šBilibili è§†é¢‘

```bash
./run.sh "https://www.bilibili.com/video/BV1xx411c7mu"
```

è¾“å‡ºï¼š
- æ–‡ä»¶åï¼šä½¿ç”¨è§†é¢‘æ ‡é¢˜
- ä½ç½®ï¼š`/Users/bytedance/Documents/lin_knowledge/`
- æ ¼å¼ï¼šMarkdown (.md)

### ç¤ºä¾‹ 2ï¼šYouTube è§†é¢‘

```bash
./run.sh "https://www.youtube.com/watch?v=dQw4w9WgXcQ"
```

### ç¤ºä¾‹ 3ï¼šè‡ªå®šä¹‰æ–‡ä»¶å

```bash
./run.sh "https://www.bilibili.com/video/BV1xx411c7mu" "æˆ‘çš„è§†é¢‘"
```

è¾“å‡ºæ–‡ä»¶ï¼š`æˆ‘çš„è§†é¢‘.md`

## ğŸ“‚ è¾“å‡ºæ ¼å¼

ç”Ÿæˆçš„ Markdown æ–‡ä»¶æ ¼å¼ï¼š

```markdown
# è§†é¢‘å­—å¹•

## å†…å®¹

[è¿™é‡Œæ˜¯è¯†åˆ«å‡ºçš„å­—å¹•å†…å®¹ï¼Œå·²è½¬æ¢ä¸ºç®€ä½“ä¸­æ–‡]

---

## åŸå§‹è§†é¢‘åœ°å€

https://è§†é¢‘é“¾æ¥
```

## âš™ï¸ é«˜çº§è®¾ç½®

### ä¿®æ”¹è¾“å‡ºç›®å½•

ç¼–è¾‘ `video_subtitle_agent.py` æ–‡ä»¶ç¬¬ 20 è¡Œï¼š

```python
def __init__(self, output_dir: str = "/ä½ çš„/è‡ªå®šä¹‰/è·¯å¾„"):
```

### è°ƒæ•´ Whisper æ¨¡å‹

ç¼–è¾‘ `video_subtitle_agent.py` æ–‡ä»¶ç¬¬ 118 è¡Œï¼š

```python
"--model", "base",  # å¯é€‰: tiny, base, small, medium, large
```

**æ¨¡å‹è¯´æ˜ï¼š**
- `tiny`ï¼šæœ€å¿«ï¼Œç²¾åº¦æœ€ä½ï¼ˆçº¦ 1 åˆ†é’Ÿå¤„ç† 10 åˆ†é’Ÿè§†é¢‘ï¼‰
- `base`ï¼šè¾ƒå¿«ï¼Œé€‚ä¸­ç²¾åº¦ï¼ˆçº¦ 2 åˆ†é’Ÿå¤„ç† 10 åˆ†é’Ÿè§†é¢‘ï¼‰â­ é»˜è®¤
- `small`ï¼šå¹³è¡¡é€‰æ‹©ï¼ˆçº¦ 5 åˆ†é’Ÿå¤„ç† 10 åˆ†é’Ÿè§†é¢‘ï¼‰
- `medium`ï¼šé«˜ç²¾åº¦ï¼ˆçº¦ 10 åˆ†é’Ÿå¤„ç† 10 åˆ†é’Ÿè§†é¢‘ï¼‰
- `large`ï¼šæœ€é«˜ç²¾åº¦ï¼ˆçº¦ 20 åˆ†é’Ÿå¤„ç† 10 åˆ†é’Ÿè§†é¢‘ï¼‰

### ä¿®æ”¹è¯†åˆ«è¯­è¨€

ç¼–è¾‘ `video_subtitle_agent.py` æ–‡ä»¶ç¬¬ 119 è¡Œï¼š

```python
"--language", "Chinese",  # ä¸­æ–‡
# "--language", "English",  # è‹±æ–‡
# "--language", "Japanese",  # æ—¥æ–‡
```

## ğŸŒ æ”¯æŒçš„è§†é¢‘å¹³å°

é€šè¿‡ `yt-dlp` æ”¯æŒ 1000+ å¹³å°ï¼ŒåŒ…æ‹¬ï¼š

- YouTube
- Bilibiliï¼ˆå“”å“©å“”å“©ï¼‰
- Twitter/X
- TikTok
- Vimeo
- Dailymotion
- Facebook
- Instagram
- æ›´å¤š...

å®Œæ•´åˆ—è¡¨ï¼šhttps://github.com/yt-dlp/yt-dlp/blob/master/supportedsites.md

## â“ å¸¸è§é—®é¢˜

### Q1: ä¸‹è½½è§†é¢‘å¤±è´¥

**åŸå› ï¼š** ç½‘ç»œé—®é¢˜æˆ–å¹³å°é™åˆ¶

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. å°è¯•æ›´æ–° yt-dlpï¼š
   ```bash
   source venv/bin/activate
   pip install -U yt-dlp
   ```
3. æŸäº›å¹³å°å¯èƒ½éœ€è¦ç™»å½•ï¼Œæš‚ä¸æ”¯æŒ

### Q2: å­—å¹•è¯†åˆ«ä¸å‡†ç¡®

**è§£å†³æ–¹æ³•ï¼š**
1. ä½¿ç”¨æ›´å¤§çš„ Whisper æ¨¡å‹ï¼ˆå¦‚ `medium` æˆ– `large`ï¼‰
2. ç¡®ä¿è§†é¢‘éŸ³è´¨æ¸…æ™°
3. å¯¹äºç‰¹å®šè¯­è¨€ï¼Œåœ¨ä»£ç ä¸­æŒ‡å®šæ­£ç¡®çš„è¯­è¨€

### Q3: ç¹ç®€è½¬æ¢å¤±è´¥

**åŸå› ï¼š** opencc æœªæ­£ç¡®å®‰è£…

**è§£å†³æ–¹æ³•ï¼š**
```bash
brew install opencc  # macOS
sudo apt-get install opencc  # Linux
```

### Q4: å¤„ç†é€Ÿåº¦æ…¢

**ä¼˜åŒ–æ–¹æ³•ï¼š**
1. ä½¿ç”¨æ›´å°çš„ Whisper æ¨¡å‹ï¼ˆå¦‚ `tiny` æˆ– `base`ï¼‰
2. ä½¿ç”¨ GPU åŠ é€Ÿï¼ˆéœ€è¦æ”¯æŒ CUDA çš„æ˜¾å¡ï¼‰
3. å‡å°‘è§†é¢‘é•¿åº¦

### Q5: å¦‚ä½•æ‰¹é‡å¤„ç†è§†é¢‘ï¼Ÿ

åˆ›å»ºä¸€ä¸ªåŒ…å«å¤šä¸ªè§†é¢‘é“¾æ¥çš„æ–‡ä»¶ `videos.txt`ï¼š
```
https://www.bilibili.com/video/BV1xx411c7mu
https://www.bilibili.com/video/BV1yy411c7mu
https://www.bilibili.com/video/BV1zz411c7mu
```

ç„¶åè¿è¡Œï¼š
```bash
while read url; do
    ./run.sh "$url"
done < videos.txt
```

## ğŸ”§ ç³»ç»Ÿè¦æ±‚

- **macOS**: 10.13 æˆ–æ›´é«˜
- **Linux**: Ubuntu 18.04+ / Debian 10+ / CentOS 7+
- **ç£ç›˜ç©ºé—´**: è‡³å°‘ 2GB
- **å†…å­˜**: å»ºè®® 4GB ä»¥ä¸Š
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥

## ğŸ“Š æ€§èƒ½å‚è€ƒ

| è§†é¢‘æ—¶é•¿ | Whisper æ¨¡å‹ | å¤„ç†æ—¶é—´ï¼ˆä¼°ç®—ï¼‰ |
|---------|-------------|-----------------|
| 5 åˆ†é’Ÿ   | tiny        | ~30 ç§’          |
| 5 åˆ†é’Ÿ   | base        | ~1 åˆ†é’Ÿ         |
| 5 åˆ†é’Ÿ   | small       | ~2.5 åˆ†é’Ÿ       |
| 10 åˆ†é’Ÿ  | base        | ~2 åˆ†é’Ÿ         |
| 30 åˆ†é’Ÿ  | base        | ~6 åˆ†é’Ÿ         |

*å®é™…æ—¶é—´å–å†³äºç³»ç»Ÿæ€§èƒ½å’Œç½‘ç»œé€Ÿåº¦

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### æ£€æŸ¥å®‰è£…

```bash
# æ£€æŸ¥ ffmpeg
which ffmpeg
ffmpeg -version

# æ£€æŸ¥ opencc
which opencc
opencc --version

# æ£€æŸ¥ Python ç¯å¢ƒ
source venv/bin/activate
python --version
pip list | grep -E "yt-dlp|whisper"
```

### æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

è¿è¡Œç¨‹åºæ—¶ä¼šæ˜¾ç¤ºæ¯ä¸ªæ­¥éª¤çš„è¿›åº¦ï¼š
- ğŸ“ è·å–è§†é¢‘æ ‡é¢˜
- ğŸ“¥ ä¸‹è½½è§†é¢‘
- ğŸ”Š æå–éŸ³é¢‘
- ğŸ¤ è½¬å½•éŸ³é¢‘
- ğŸ”„ ç¹ç®€è½¬æ¢
- âœ… ä¿å­˜æ–‡ä»¶

å¦‚æœæŸä¸ªæ­¥éª¤å¤±è´¥ï¼Œä¼šæ˜¾ç¤º âŒ é”™è¯¯ä¿¡æ¯

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

1. **æŒ‡å®šè¾“å‡ºæ–‡ä»¶å**ï¼šå¯¹äºé‡è¦è§†é¢‘ï¼Œå»ºè®®è‡ªå®šä¹‰æ–‡ä»¶å
2. **æ‰¹é‡å¤„ç†**ï¼šå¯ä»¥å†™è„šæœ¬æ‰¹é‡å¤„ç†å¤šä¸ªè§†é¢‘
3. **å®šæœŸæ›´æ–°**ï¼šå®šæœŸæ›´æ–° yt-dlp ä»¥æ”¯æŒæœ€æ–°çš„ç½‘ç«™
4. **ç½‘ç»œé—®é¢˜**ï¼šä¸‹è½½å¤§è§†é¢‘æ—¶å»ºè®®ä½¿ç”¨ç¨³å®šç½‘ç»œ

## ğŸ“ è·å–å¸®åŠ©

å¦‚é‡é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æ‰€æœ‰ä¾èµ–æ˜¯å¦æ­£ç¡®å®‰è£…
2. è™šæ‹Ÿç¯å¢ƒæ˜¯å¦æ¿€æ´»
3. è§†é¢‘é“¾æ¥æ˜¯å¦æœ‰æ•ˆ
4. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

---

**äº«å—é«˜æ•ˆçš„å­—å¹•æå–ä½“éªŒï¼** ğŸ‰
