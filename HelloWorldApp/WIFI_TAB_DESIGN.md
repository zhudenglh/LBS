# WiFi Tab 产品设计文档

基于 XiaoLuYou_Indo.pdf 产品形态设计

## 一、产品概述

### 1.1 核心价值
为公交/地铁出行用户提供**一键连接免费WiFi**的功能，并结合附近商家推荐，打造"连WiFi + 本地生活服务"的完整体验。

### 1.2 目标用户
- 通勤用户：需要在公交/地铁上连接WiFi
- 出游用户：在景区、商场等地需要WiFi
- 印尼本地用户：流量费用较高，依赖免费WiFi

---

## 二、功能设计

### 2.1 核心功能模块

#### **模块1：WiFi连接区（顶部卡片）**
```
┌─────────────────────────────────┐
│ 当前未连接WiFi                    │
│ 附近有33个免费WiFi ▼        [一键直连] │
└─────────────────────────────────┘
```

**功能说明：**
- 显示当前WiFi连接状态
- 显示附近可用WiFi数量
- 一键直连按钮（黄色突出显示）
- 点击展开WiFi列表弹窗

**状态：**
- 未连接：显示"当前未连接WiFi"
- 已连接：显示"已连接 ChinaNet-xxxx"
- 连接中：显示"正在连接..."

---

#### **模块2：WiFi列表弹窗**
```
┌─────────────────────────────────┐
│ 当前未连接WiFi          [一键直连]  │
│ 自动推荐WiFi热点                  │
│                                 │
│ 附近有33个免费WiFi  ↑      [刷新] │
│                                 │
│ 📶 ChinaNet-sqvk    [官方]       │
│                    [免费直连]     │
│                                 │
│ 📶 Xiaomi_C2C1                  │
│                    [会员专享]     │
│                                 │
│ 📶 jinjiang_00980   [合作]      │
│                    [免费直连]     │
│                                 │
│ 📶 Tenda_free                   │
│    可能需要认证      [免费直连]     │
│                                 │
│ 📶 CMCC-6j7j                    │
│    可能需要认证      [免费直连]     │
│                                 │
│ 📶 黄焖鸡米饭-华佗路    [🔒]      │
└─────────────────────────────────┘
```

**设计要点：**
1. **WiFi标签分类：**
   - 官方：政府/运营商提供
   - 合作：合作商家WiFi
   - 会员专享：需要会员身份

2. **连接状态：**
   - 免费直连：一键连接
   - 需要认证：需要验证码/登录
   - 加密WiFi：需要密码

3. **排序逻辑：**
   - 优先显示"官方"、"合作"WiFi
   - 按信号强度排序
   - 已连接过的WiFi靠前

---

#### **模块3：位置感知推荐（可选）**
```
┌─────────────────────────────────┐
│ 🍴 您正在 上海迪士尼乐园   [推荐不准？] │
│                                 │
│ 热门项目排队时间：                 │
│ 飞跃地平线·60分钟 | 极速光轮·30分钟  │
│                                 │
│ 推荐路线：明日世界 → 梦幻世界 → 探险岛│
│                                 │
│ [项目预约] [景区地图] [演出时间]    │
└─────────────────────────────────┘
```

**功能说明：**
- 基于GPS定位识别用户所在位置
- 提供场景化的快捷服务
- 场景示例：
  - 景区：显示项目排队、演出时间
  - 公交站：显示实时公交、换乘信息
  - 商场：显示优惠券、停车信息

---

#### **模块4：附近商家推荐**
```
┌─────────────────────────────────┐
│ [商家图片]                        │
│                                 │
│ 📍 张江路702号｜200m              │
│ 前50顾客～立减5块啦                │
│ 👤 奇奇甜品店老板娘                │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ [商家图片]                        │
│                                 │
│ 爸爸吐司面包｜限时【上新】抹茶脑袋... │
│ 半年售2.5万+                      │
│ ¥10.9 ¥16 低至2.1折              │
│ 团购 1.6km                       │
└─────────────────────────────────┘
```

**设计要点：**
- 展示距离（200m、600m、800m）
- 商家促销信息
- 用户评价/销量
- 团购优惠标签

---

### 2.2 快捷功能图标（可选）
```
┌──┬──┬──┬──┬──┐
│🍴│🎫│🚌│⚡│⋯│
│美食│团购│出行│加速│更多│
└──┴──┴──┴──┴──┘
```

---

## 三、UI设计规范

### 3.1 颜色规范
```
主色调：
- 主黄色（按钮）：#FFD700 / #FFC107
- 背景白色：#FFFFFF
- 卡片背景：#F5F5F5

辅助色：
- 文字黑：#333333
- 文字灰：#999999
- 标签蓝：#4A90E2（官方）
- 标签橙：#FF9800（合作）
- 标签金：#FFD700（会员）
```

### 3.2 字体规范
```
标题：18sp，加粗
正文：14sp，常规
辅助信息：12sp，灰色
按钮文字：16sp，加粗
```

### 3.3 间距规范
```
卡片外边距：16dp
卡片内边距：16dp
元素间距：12dp
图标大小：24dp x 24dp
圆角：8dp
```

---

## 四、交互流程

### 4.1 WiFi连接流程
```
[进入WiFi Tab]
    ↓
[显示WiFi卡片 + 一键直连按钮]
    ↓
[点击一键直连] ─→ 自动连接信号最强的官方WiFi
    ↓
[连接成功] ─→ 显示"已连接 WiFi名称"
    ↓
[连接失败] ─→ 弹出WiFi列表，让用户手动选择
```

### 4.2 WiFi列表展开流程
```
[点击"附近有33个免费WiFi"]
    ↓
[弹出WiFi列表底部弹窗]
    ↓
[用户选择WiFi] ─→ 点击"免费直连"
    ↓
[连接WiFi]
    ↓
[连接成功] ─→ 关闭弹窗，显示连接状态
    ↓
[需要认证] ─→ 跳转浏览器进行认证
```

### 4.3 商家卡片点击流程
```
[点击商家卡片]
    ↓
[进入商家详情页]
    ↓
显示：
- 商家照片
- 优惠券/代金券
- 推荐菜品
- 用户评价
- 地图导航
```

---

## 五、技术实现要点

### 5.1 WiFi扫描
```java
// Android WiFi Manager
WifiManager wifiManager = (WifiManager) getApplicationContext()
    .getSystemService(Context.WIFI_SERVICE);
List<ScanResult> wifiList = wifiManager.getScanResults();

// 权限要求
<uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
<uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
```

### 5.2 WiFi连接
```java
WifiConfiguration wifiConfig = new WifiConfiguration();
wifiConfig.SSID = "\"" + ssid + "\"";
wifiConfig.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.NONE);

int netId = wifiManager.addNetwork(wifiConfig);
wifiManager.enableNetwork(netId, true);
```

### 5.3 位置服务
```java
// 使用 Android Location API 或 Google Play Services
LocationManager locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);
Location location = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);
```

### 5.4 数据来源
- WiFi列表：本地扫描 + 后端WiFi数据库（标签、是否需要认证）
- 商家推荐：后端API（基于GPS坐标）
- 位置识别：高德地图/Google Maps Geocoding API

---

## 六、MVP版本功能范围

### 第一版（核心功能）
✅ WiFi扫描和列表展示
✅ WiFi连接状态显示
✅ 一键连接开放WiFi
✅ 附近商家推荐列表（Mock数据）

### 第二版（增强功能）
⏳ WiFi标签分类（官方、合作、会员）
⏳ WiFi连接历史记录
⏳ 位置感知推荐
⏳ 商家详情页

### 第三版（完整功能）
⏳ WiFi认证自动化
⏳ 会员WiFi权益
⏳ 智能推荐（DeepSeek AI）
⏳ 社交功能（评价、分享）

---

## 七、与现有功能的整合

### 7.1 与帖子Tab的关系
- 帖子Tab：社交内容（公交见闻、图片分享）
- WiFi Tab：工具 + 本地生活服务

### 7.2 数据共享
- 用户位置：两个Tab共享GPS数据
- 商家信息：WiFi Tab的商家可以在帖子Tab发布内容
- 用户身份：统一的用户系统

---

## 八、印尼市场特殊考虑

### 8.1 本地化
- 语言：印尼语（Bahasa Indonesia）
- 货币：印尼盾（IDR）
- 支付：集成本地支付方式（GoPay、OVO、Dana）

### 8.2 网络环境
- 流量费用高：强化WiFi功能的价值
- 4G覆盖不均：优先推荐稳定的WiFi热点
- 公交WiFi普及：与公交公司合作接入

### 8.3 用户习惯
- 偏好团购/优惠券
- 喜欢看用户评价照片
- 依赖现金/电子钱包

---

## 九、设计参考

参考App：
1. **美团/大众点评** - 本地生活服务
2. **WiFi万能钥匙** - WiFi连接功能
3. **高德地图** - 位置推荐
4. **小红书** - 社交+商家内容

设计风格：
- 简洁明快，黄色作为主题色
- 卡片式设计，信息层次清晰
- 大按钮，易于点击
- 图片为主，文字为辅

---

## 十、成功指标（KPI）

1. **WiFi连接成功率**：≥80%
2. **日活跃用户（DAU）**：目标10万
3. **人均使用时长**：≥5分钟/天
4. **商家点击率（CTR）**：≥15%
5. **用户留存率（D1/D7/D30）**：60%/40%/20%
